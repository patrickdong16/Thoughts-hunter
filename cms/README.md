# 思想雷达 CMS

思想雷达内容管理系统 - 一个简洁实用的后台管理界面，用于管理每日雷达内容和频段信息。

## ✨ 功能特性

### 📝 内容管理
- ✅ 查看所有雷达条目（按日期分组）
- ✅ 添加新的雷达条目
- ✅ 编辑已有条目
- ✅ 删除条目
- ✅ 实时字数统计（最少500字）
- ✅ 每日条目数量提示（建议6-8条）
- ✅ 本周频段覆盖检查

### 📊 频段管理
- ✅ 查看所有18个频段
- ✅ 编辑频段TTI值（0-100）
- ✅ 按领域分组显示
- ✅ 直观的AB两极对比

### 🎨 界面特色
- ✅ 暗色主题
- ✅ 绿色主色调（#00ff88）
- ✅ 响应式设计
- ✅ 专业的后台风格

## 🚀 快速开始

### 前置要求

- Node.js 16+
- 思想雷达后端API已运行（默认: http://localhost:3000）

### 安装依赖

```bash
cd cms
npm install
```

### 配置环境变量

编辑 `.env` 文件（如果后端不在3000端口）：

```env
VITE_API_BASE_URL=http://localhost:3000
```

### 启动开发服务器

```bash
npm run dev
```

访问：http://localhost:5173

### 构建生产版本

```bash
npm run build
```

构建结果在 `dist/` 目录。

## 📋 使用说明

### 添加内容

1. 点击"添加内容"按钮
2. 填写表单：
   - 选择发布日期
   - 选择频段（会自动显示问题）
   - 选择立场（A或B）
   - 输入标题、作者信息
   - 输入正文内容（至少500字，有实时计数）
   - 添加关键词（逗号分隔）
3. 点击"创建"保存

### 编辑内容

1. 在内容列表中找到要编辑的条目
2. 点击"编辑"按钮
3. 修改表单内容
4. 点击"更新"保存

### 删除内容

1. 在内容列表中找到要删除的条目
2. 点击"删除"按钮
3. 确认删除操作

### 管理频段TTI

1. 点击顶部"频段管理"
2. 找到要编辑的频段
3. 点击"编辑"按钮
4. 输入新的TTI值（0-100）
5. 点击"保存"

## 📊 内容验证规则

### 必填字段
- 发布日期
- 频段
- 立场
- 标题
- 作者姓名
- 正文内容（≥500字）

### 自动检查
- ✅ 正文字数实时统计
- ✅ 今日已有内容数量提示
- ✅ 每日建议6-8条提醒
- ✅ 本周未覆盖频段提示

## 🎯 界面说明

### 内容列表
每个条目显示：
- 频段标识（如 T1, P1）
- 立场徽章（A极/B极）
- 标题
- 作者信息
- 字数统计
- 关键词（前3个）
- 操作按钮（编辑/删除）

### 日期分组
- 按日期倒序排列
- 每日条目数量标识
- 达标状态提示：
  - ✓ 绿色：6-8条（达标）
  - ⚠️ 黄色：少于6条（偏少）
  - ⚠️ 红色：多于8条（超量）

### 频段管理
按6个领域分组：
- 🔬 科技（T1-T3）
- 🏛️ 政治（P1-P3）
- 📚 历史（H1-H3）
- 🤔 哲学（Φ1-Φ3）
- ⛪ 宗教（R1-R2）
- 💰 金融（F1-F2）

每个频段显示：
- 核心问题
- A极/B极立场
- TTI值（带颜色编码）
  - 绿色：0-59（低张力）
  - 橙色：60-79（中张力）
  - 红色：80-100（高张力）

## 🛠️ 技术栈

- **前端框架**: React 18
- **构建工具**: Vite 7
- **样式**: Vanilla CSS
- **API通信**: Fetch API
- **状态管理**: React Hooks

## 📁 项目结构

```
cms/
├── src/
│   ├── components/
│   │   ├── ContentList.jsx      # 内容列表
│   │   ├── ContentForm.jsx      # 内容表单
│   │   └── BandManagement.jsx   # 频段管理
│   ├── services/
│   │   └── api.js               # API服务层
│   ├── App.jsx                  # 主组件
│   ├── main.jsx                 # 入口文件
│   └── index.css                # 全局样式
├──.env                          # 环境变量
├── package.json                 # 依赖配置
└── vite.config.js               # Vite配置
```

## 🔗 API端点

CMS使用以下后端API：

### 雷达内容
- `GET /api/radar/all/grouped` - 获取所有内容（按日期分组）
- `GET /api/radar/today` - 获取今日内容
- `POST /api/radar` - 创建新内容
- `PUT /api/radar/:id` - 更新内容
- `DELETE /api/radar/:id` - 删除内容

### 频段
- `GET /api/bands` - 获取所有频段
- `PUT /api/bands/:id/tti` - 更新频段TTI

## 💡 使用技巧

1. **快速添加**：使用右下角的 `+` 浮动按钮快速打开添加表单
2. **张力问题**：选择频段后会自动填充对应的张力问题描述
3. **字数提醒**：正文内容会实时显示字数，低于500字会显示还需多少字
4. **每日统计**：表单顶部会显示今日已有多少条内容
5. **频段覆盖**：会提示本周还有哪些频段未覆盖

## 🎨 主题颜色

- 主色：`#00ff88` (绿色)
- 背景：`#08090c` (深黑)
- 卡片：`#12131a` (深灰)
- 边框：`#1f2937` (灰色)

## 📝 待办事项

- [ ] 批量导入功能
- [ ] 内容搜索和筛选
- [ ] 内容预览功能
- [ ] 数据导出功能
- [ ] 内容统计图表
- [ ] 用户权限管理

## 📄 许可证

MIT

---

**准备好了？** 确保后端API已运行，然后执行 `npm run dev` 开始管理内容！🚀
