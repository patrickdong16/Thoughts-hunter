name: Daily Content Update

on:
  schedule:
    # æ¯å¤©åŒ—äº¬æ—¶é—´æ—©ä¸Š4ç‚¹è¿è¡Œ (UTC 20:00å‰ä¸€å¤©)
    - cron: '0 20 * * *'
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  update-content:
    runs-on: ubuntu-latest
    
    steps:
      - name: Trigger daily content fetch
        run: |
          echo "ğŸš€ Triggering content update at $(date)"
          
          # è°ƒç”¨åç«¯APIæ£€æŸ¥æ‰€æœ‰æ´»è·ƒæ¥æºçš„æ–°å†…å®¹
          response=$(curl -s -X POST https://thoughts-radar-backend-production.up.railway.app/api/collection/check-all \
            -H "Content-Type: application/json" \
            --max-time 300)
          
          echo "ğŸ“¥ API Response: $response"
          echo "âœ… Daily update completed successfully"
