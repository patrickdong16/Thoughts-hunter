# 思想雷达内容质量控制规范

> 本文档定义了思想雷达平台的内容质量标准和验证规则

## 每日内容数量要求

| 指标 | 最低要求 |
|------|---------|
| **每日总篇数** | ≥ 6篇 |
| **YouTube访谈** | ≥ 1篇 |
| **单篇字数** | ≥ 500字（中文字符） |

---

## 内容来源分类

### 1. 文字类来源
- 学术期刊/论文
- 杂志专栏（如《金融时报》《大西洋月刊》《新共和》）
- 个人博客/Newsletter
- 书籍章节

### 2. YouTube访谈类来源（每日必须≥1篇）
- 深度访谈节目
- 学术讲座
- TED演讲
- 播客视频版

---

## 内容质量标准

### 必填字段
- `title`: 文章标题（中文）
- `author_name`: 作者姓名
- `author_bio`: 作者简介（≥50字）
- `source`: 来源说明（日期 · 媒体 · 背景）
- `content`: 正文内容（≥500字）
- `tension_q`: 张力问题
- `tension_a`: A立场
- `tension_b`: B立场
- `keywords`: 关键词数组（≥3个）

### 正文结构要求
1. **开篇论点**：明确作者核心观点
2. **论证过程**：至少3个支撑论据
3. **结论/呼吁**：明确立场或行动建议

### 禁止事项
- ❌ 纯新闻报道（无观点）
- ❌ 过于简短的评论
- ❌ 无明确立场的中立分析
- ❌ 占位符或示例内容

---

## 验证规则（后端强制执行）

```javascript
// radar.js POST验证
if (content.length < 500) {
  return error('内容不少于500字');
}
```

## 每日更新检查清单

- [ ] 总篇数 ≥ 6
- [ ] YouTube来源 ≥ 1
- [ ] 每篇正文 ≥ 500字
- [ ] 每篇包含完整张力问题
- [ ] 每篇作者信息完整

---

## 自动化规则强制执行

### 已实现的检查机制 (v2.0)

| 检查项 | 普通日 | 主题日 | 实现位置 |
|--------|--------|--------|----------|
| **重复标题** | ✅ 阻止 | ✅ 阻止 | batch-publish, smart-generate, backfill-date |
| **maxPerFreq** | ✅ 1条/频段 | ❌ 不限制 | 同上 |
| **maxItems** | ✅ 8条上限 | ✅ 30条上限 | batch-publish, smart-generate |
| **内容长度** | ✅ ≥300字符 | ✅ ≥300字符 | 所有端点 |

### 关键实现细节

1. **重复判断**: `date + title` 的组合唯一
2. **正日期判断**: 使用 `Asia/Shanghai` 时区计算北京日期
3. **主题日识别**: 通过 `day-config.json` 中的 `themeDays` 数组
4. **配置来源**: `day-rules.js` 的 `getRulesForDate()` 函数

